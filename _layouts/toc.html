<nav class="toc print-hide" aria-label="Table of contents">
  <strong>Jump to</strong>
  <ul id="toc-list"></ul>
</nav>
<script>
(function(){
  const article = document.querySelector('article.recipe-card');
  if (!article) return;
  const headings = article.querySelectorAll('h2, h3');
  if (!headings.length) return;

  const ul = document.getElementById('toc-list');
  headings.forEach(h => {
    if (!h.id) {
      h.id = h.textContent.toLowerCase().trim()
        .replace(/[^a-z0-9 ]/g,'').replace(/\s+/g,'-');
    }
    const li = document.createElement('li');
    if (h.tagName === 'H3') li.style.marginLeft = '1rem';
    const a = document.createElement('a');
    a.href = '#' + h.id;
    a.textContent = h.textContent;
    li.appendChild(a);
    ul.appendChild(li);
  });
})();
</script>
