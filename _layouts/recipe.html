---
layout: default
---

<article class="recipe-card">
  <header>
    <h1>{{ page.title }}</h1>
    {% if page.subtitle %}<p class="subtitle">{{ page.subtitle }}</p>{% endif %}
    {% assign hero_src = page.hero_image | default: page.image %}
    {% if hero_src %}
      <link rel="preload" as="image" href="{{ hero_src | relative_url }}">
      <img class="hero"
           src="{{ hero_src | relative_url }}"
           alt="{{ page.image_alt | default: page.title }}"
           width="1200" height="800"
           loading="eager" decoding="async" fetchpriority="high">
      {% if page.credit_name and page.credit_url %}
        <p class="photo-credit">
          Photo: <a href="{{ page.credit_url }}" rel="nofollow noopener">{{ page.credit_name }}</a>{% if page.credit_provider %} via {{ page.credit_provider }}{% endif %}
        </p>
      {% endif %}
    {% endif %}
    {% if page.description %}<p class="description">{{ page.description }}</p>{% endif %}
    <div class="meta">
      {% if page.recipe_yield %}<span><strong>Yield:</strong> {{ page.recipe_yield }}</span>{% endif %}
      {% if page.prep_time %}<span><strong>Prep:</strong> {{ page.prep_time_human }}</span>{% endif %}
      {% if page.cook_time %}<span><strong>Cook:</strong> {{ page.cook_time_human }}</span>{% endif %}
      {% if page.total_time %}<span><strong>Total:</strong> {{ page.total_time_human }}</span>{% endif %}
    </div>
    {% include toc.html %}
    <button class="print-btn" onclick="window.print()">Print</button>
  </header>

  {% if page.ingredients %}
  <section>
    <h2>Ingredients</h2>
    <ul>
      {% for item in page.ingredients %}
        <li>{{ item }}</li>
      {% endfor %}
    </ul>
  </section>
  {% endif %}

  {% if page.instructions %}
  <section>
    <h2>Instructions</h2>
    <ol>
      {% for step in page.instructions %}
        <li>{{ step }}</li>
      {% endfor %}
    </ol>
  </section>
  {% endif %}

  {% if page.nutrition %}
  <section class="nutrition">
    <h2>Nutrition</h2>
    <ul>
      {% if page.nutrition.calories %}<li>Calories: {{ page.nutrition.calories }}</li>{% endif %}
      {% if page.nutrition.protein %}<li>Protein: {{ page.nutrition.protein }}</li>{% endif %}
      {% if page.nutrition.carbs %}<li>Carbs: {{ page.nutrition.carbs }}</li>{% endif %}
      {% if page.nutrition.fat %}<li>Fat: {{ page.nutrition.fat }}</li>{% endif %}
    </ul>
  </section>
  {% endif %}
  {% assign related = site.posts
  | where_exp: 'p', 'p.categories contains page.categories'
  | where_exp: 'p', 'p.url != page.url' | limit: 3 %}

{% if related.size > 0 %}
<section class="related">
  <h2>Related recipes</h2>
  <div class="card-grid">
    {% for p in related %}
     {% include recipe-card.html url=p.url image=p.image image_alt=p.image_alt title=p.title subtitle=p.subtitle protein=p.nutrition.protein calories=p.nutrition.calories %}
    {% endfor %}
  </div>
</section>
{% endif %}

{%- comment -%} Recipe structured data for SEO {%- endcomment -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Recipe",
  "name": {{ page.title | jsonify }},
  "description": {{ (page.description | default: page.subtitle | default: page.title) | jsonify }},
  "image": [
    {{ ((page.hero_image | default: page.image) | absolute_url) | jsonify }},
    {{ (page.image | absolute_url) | jsonify }}{% if page.pin_image %},
    {{ (page.pin_image | absolute_url) | jsonify }}{% endif %}
  ],
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "author": { "@type": "Organization", "name": {{ site.title | jsonify }} },
  "keywords": {{ page.tags | default: empty | jsonify }},
  "recipeCategory": {{ page.categories | jsonify }},
  "prepTime": {{ page.prep_time | jsonify }},
  "cookTime": {{ page.cook_time | jsonify }},
  "totalTime": {{ page.total_time | jsonify }},
  "recipeYield": {{ page.recipe_yield | jsonify }},
  "recipeIngredient": {{ page.ingredients | jsonify }},
  "recipeInstructions": [
    {%- for s in page.instructions -%}
    { "@type": "HowToStep", "text": {{ s | strip | jsonify }} }{%- if forloop.last == false -%},{%- endif -%}
    {%- endfor -%}
  ],
  "nutrition": {
    "@type": "NutritionInformation",
    "calories": {{ page.nutrition.calories | jsonify }},
    "proteinContent": {{ page.nutrition.protein | jsonify }},
    "carbohydrateContent": {{ page.nutrition.carbs | jsonify }},
    "fatContent": {{ page.nutrition.fat | jsonify }}
  }
  {%- if page.credit_name and page.credit_url -%},
  "imageCredit": {{ page.credit_name | jsonify }},
  "imageCreditUrl": {{ page.credit_url | jsonify }}
  {%- endif -%}
}
</script>  
</article>

{% include affiliates.html %}

{%- comment -%} Precompute for JSON-LD {%- endcomment -%}
{% assign recipe_desc = page.description | default: page.subtitle | default: page.title %}
{% assign img_primary = page.hero_image | default: page.image %}

{%- comment -%} Recipe structured data {%- endcomment -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Recipe",
  "name": {{ page.title | jsonify }},
  "description": {{ recipe_desc | jsonify }},
  "image": [
    {{ img_primary | absolute_url | jsonify }},
    {{ page.image | absolute_url | jsonify }}{% if page.pin_image %},
    {{ page.pin_image | absolute_url | jsonify }}{% endif %}
  ],
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "author": { "@type": "Organization", "name": {{ site.title | jsonify }} },
  "keywords": {{ page.tags | default: empty | jsonify }},
  "recipeCategory": {{ page.categories | jsonify }},
  "prepTime": {{ page.prep_time | jsonify }},
  "cookTime": {{ page.cook_time | jsonify }},
  "totalTime": {{ page.total_time | jsonify }},
  "recipeYield": {{ page.recipe_yield | jsonify }},
  "recipeIngredient": {{ page.ingredients | jsonify }},
  "recipeInstructions": [
    {%- for s in page.instructions -%}
    { "@type": "HowToStep", "text": {{ s | strip | jsonify }} }{%- if forloop.last == false -%},{%- endif -%}
    {%- endfor -%}
  ],
  "nutrition": {
    "@type": "NutritionInformation",
    "calories": {{ page.nutrition.calories | jsonify }},
    "proteinContent": {{ page.nutrition.protein | jsonify }},
    "carbohydrateContent": {{ page.nutrition.carbs | jsonify }},
    "fatContent": {{ page.nutrition.fat | jsonify }}
  }{% if page.credit_name and page.credit_url %},
  "imageCredit": {{ page.credit_name | jsonify }},
  "imageCreditUrl": {{ page.credit_url | jsonify }}{% endif %}
}
</script>
